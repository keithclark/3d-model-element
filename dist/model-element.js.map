{"version":3,"file":"model-element.js","sources":["../src/utils/model.js","../src/utils/url.js","../src/modelLoader.js","../src/utils/css.js","../src/utils/dom.js","../src/modelLayer.js","../src/modelElement.js","../src/loaders/gltf.js","../src/loaders/obj.js","../src/index.js"],"sourcesContent":["/* While mapping objects to a DOM element, it's useful to have a bounding box\nto reference. Enabling this flag will produce just that, a 2D bounding rect\nthat should match the related DOM element */\nconst RENDER_OBJECT_BOUNDING_BOX = false;\n\n\nconst normalize = obj => {\n  let box = new THREE.Box3().setFromObject(obj);\n  let size = new THREE.Vector3();\n  box.getCenter(obj.position);\n  box.getSize(size);\n\n  let scale = 1 / Math.max(size.x, size.y);\n  obj.position.multiplyScalar(-scale);\n  obj.scale.set(scale, scale, scale);\n  return obj;\n};\n\n\nconst createDebugBoundingBox = obj => {\n  let material = new THREE.LineBasicMaterial({color: 0x00ff00});\n  let geometry = new THREE.PlaneGeometry(1, 1);\n  let wireframe = new THREE.WireframeGeometry(geometry);\n  let boundingBox = new THREE.LineSegments(wireframe, material);\n  return boundingBox;\n};\n\n\nconst createContainer = obj => {\n  let container = new THREE.Object3D();\n\n  if (RENDER_OBJECT_BOUNDING_BOX) {\n    container.add(createDebugBoundingBox());\n  }\n\n  container.add(obj);\n\n  return container;\n};\n\n\nexport default {\n  normalize,\n  createDebugBoundingBox,\n  createContainer\n};\n","\nconst getFileExtension = url => {\n  let path = url.split(/[?#]/)[0];\n  let segments = path.split('/');\n  let filename = segments.pop();\n  let ext = filename.split('.');\n  if (ext.length > 0) {\n    return '.' + ext.pop();\n  }\n}\n\nexport default {\n  getFileExtension\n}","import modelUtils from './utils/model';\nimport urlUtils from './utils/url';\n\n\nconst loaders = {};\n\n\nconst register = (ext, handler) => {\n  loaders[ext] = {\n    load: handler,\n    objectCache: {}\n  };\n};\n\n\nconst load = src => {\n  let loader;\n  let object;\n  let ext = urlUtils.getFileExtension(src);\n\n  if (ext) {\n    loader = loaders[ext];\n  }\n\n  if (!loader) {\n    console.error(`Couldn't load \"${src}\". Unknown object format \"${ext}\"`);\n    return Promise.reject();\n  }\n\n  object = loader.objectCache[src];\n  if (!object) {\n    object = loader.load(src).then(obj => {\n      // To help make sizing easier to deal with we normalize the models \n      // dimenstions so its maximum width / height is 1. When rendering the\n      // object we can scale it up by the width of the target DOM element.\n      modelUtils.normalize(obj);\n\n      // Finally the model is inserted into a container.\n      return modelUtils.createContainer(obj);\n    });\n    loader.objectCache[src] = object;\n  }\n  \n  return object.then(model => model.clone());\n};\n\n\nexport default {\n  load,\n  register\n};\n","/**\n * Strips the unit from a value (i.e. 100.55px) and converts the remaining\n * value to a number.\n */\nconst parseUnitValue = value => {\n  return parseFloat(value || 0);\n};\n\n\n/**\n * Parses a CSS origin string (`perspective-origin`, `transform-origin`) into\n * it's X, Y and Z components and populates the supplied THREE.Vector3 with\n * the result.\n */\nconst parseOriginValue = (originString, vec3) => {\n  let transformOrigin = originString.split(' ');\n  vec3.set(\n    parseUnitValue(transformOrigin[0]),\n    parseUnitValue(transformOrigin[1]),\n    parseUnitValue(transformOrigin[2])\n  );\n};\n\n\n/**\n * Parses a CSS 3x2 matrix() or 4x4 matrix3d() string into its compontents and \n * populates the passed THREE.Matrix4 with the result.\n * \n * (https://keithclark.co.uk/articles/calculating-element-vertex-data-from-css-transforms/)\n */\n\nconst parseTransformValue = (matrixString, mat4) => {\n  var c = matrixString.split(/\\s*[(),]\\s*/).slice(1, -1);\n\n  if (c.length === 6) {\n    // 'matrix()' (3x2)\n    mat4.set(\n      +c[0], -c[2],      0,  +c[4],\n      -c[1], +c[3],      0,  -c[5],\n          0,     0,      1,      0,\n          0,     0,      0,      1\n    );\n  } else if (c.length === 16) {\n    // matrix3d() (4x4)\n    mat4.set(\n      +c[0], -c[4],  +c[8], +c[12],\n      -c[1], +c[5],  -c[9], -c[13],\n      +c[2], -c[6], +c[10], +c[14],\n      +c[3], +c[7], +c[11], +c[15]\n    );\n  } else {\n    // handle 'none' or invalid values.\n    mat4.identity();\n  }\n};\n\n\nexport default {\n  parseTransformValue,\n  parseOriginValue,\n  parseUnitValue\n};\n","import cssUtils from './css';\n\n/**\n * Resolves and returns the transform and perspective properties for a given\n * element. \n */\n\nconst getTransformForElement = elem => {\n  let m1 = new THREE.Matrix4();\n  let transformMatrix = new THREE.Matrix4();\n  let transformOrigin = new THREE.Vector3();\n  let transformOriginMatrix = new THREE.Matrix4();\n  let osParent = elem;\n  let stack = [];\n  let posX = 0;\n  let posY = 0;\n\n  // if this element doesn't have a width or height bail out now.\n  if (elem.offsetWidth === 0 || elem.offsetHeight === 0) {\n    return m1;\n  }\n\n  posX -= elem.offsetWidth / 2;\n  posY += elem.offsetHeight / 2;\n\n  // We need to apply transforms from the root so we walk up the DOM tree,\n  // pushing each node onto a stack. While we're walking to the DOM we also\n  // resolve the elements X/Y position.\n  while (elem) {\n    if (elem === osParent) {\n      posX += elem.offsetLeft;\n      posY += elem.offsetTop;\n      osParent = elem.offsetParent;\n    }\n    stack.push(elem);\n    posX -= elem.scrollLeft;\n    posY -= elem.scrollTop;\n    elem = elem.parentElement;\n  }\n\n\n  m1.makeTranslation(posX, -posY, 0);\n\n  // Now we can resolve transforms.\n  while (elem = stack.pop()) {\n\n    let style = getComputedStyle(elem);\n\n    cssUtils.parseOriginValue(style.transformOrigin, transformOrigin);\n    cssUtils.parseTransformValue(style.transform, transformMatrix);\n\n    let ox = transformOrigin.x - elem.offsetWidth / 2;\n    let oy = transformOrigin.y - elem.offsetHeight / 2;\n    let oz = transformOrigin.z;\n\n    // If the computed `transform-origin` is a value other than `50% 50% 0`\n    // (`0,0,0` in THREE coordinate space) then we need to translate by the\n    // origin before multiplying the element's transform matrix. Finally, we\n    // need undo the translation.\n    if (ox !== 0 || oy !== 0 || oz !== 0) {\n      m1.multiply(transformOriginMatrix.makeTranslation(ox, -oy, oz));\n      m1.multiply(transformMatrix);\n      m1.multiply(transformOriginMatrix.makeTranslation(-ox, oy, -oz));\n    } else {\n      m1.multiply(transformMatrix);\n    }\n  }\n\n  return m1;\n};\n\n\nconst getProjectionForElement = elem => {\n  let perspectiveOrigin = new THREE.Vector3();\n  let perspective;\n  let clipBounds = {\n    left: 0,\n    top: 0,\n    right: innerWidth,\n    bottom: innerHeight\n  };\n  let cameraBounds = {\n    left: 0,\n    top: 0,\n    right: innerWidth,\n    bottom: innerHeight\n  };\n\n\n  while (elem) {\n    let style = getComputedStyle(elem);\n    let elemBounds = elem.getBoundingClientRect();\n\n    // TODO: It's possible to nest perspectives. Need to research the impact\n    // of this and, if possible, how to emulate it. For now, we'll just use\n    // the last value found.\n    let perspectiveValue = style.perspective;\n    if (!perspective) {\n      if (perspectiveValue !== 'none') {\n        perspective = cssUtils.parseUnitValue(perspectiveValue);\n\n        cameraBounds.top = elemBounds.top;\n        cameraBounds.left = elemBounds.left;\n        cameraBounds.right = elemBounds.right;\n        cameraBounds.bottom = elemBounds.bottom;\n\n        // TODO: strictly speaking, `perspective-origin` can be set on any\n        // element, not just the one that has `perspective`. Research the impact\n        // of setting perspective-origin on different elements in the DOM tree.\n        let perspectiveOriginValue = style.perspectiveOrigin;\n        if (perspectiveOriginValue) {\n          cssUtils.parseOriginValue(perspectiveOriginValue, perspectiveOrigin);\n        }\n      }\n    }\n\n\n    if (style.overflow !== 'visible') {\n      clipBounds.top = Math.max(elemBounds.top, clipBounds.top);\n      clipBounds.left = Math.max(elemBounds.left, clipBounds.left);\n      clipBounds.right = Math.min(elemBounds.right, clipBounds.right);\n      clipBounds.bottom = Math.min(elemBounds.bottom, clipBounds.bottom);\n    }\n\n    elem = elem.parentElement;\n\n  }\n\n  return {\n    perspective: perspective,\n    perspectiveOrigin: perspectiveOrigin,\n    clipBounds: clipBounds,\n    cameraBounds: cameraBounds\n  };\n};\n\n\n\nconst createStylesheet = cssText => {\n  let styleElem = document.createElement('style');\n  styleElem.textContent = cssText;\n  return styleElem;\n};\n\n\n\nexport default {\n  getTransformForElement,\n  getProjectionForElement,\n  createStylesheet\n};\n","import domUtils from './utils/dom';\n\nlet perspective;\nlet camera;\nlet overlayWidth;\nlet overlayHeight;\nlet perspectiveCamera;\nlet orthographicCamera;\nlet renderer;\nlet scene;\nlet light;\n\nconst objs = [];\n\n\nconst init = () => {\n  if (scene) {\n    return false;\n  }\n\n  // create the scene\n  scene = new THREE.Scene();\n\n  // add a light\n  light = new THREE.PointLight(0x808080, 2, 0);\n  light.position.set(0, 0, 0);\n  scene.add(light);\n\n  /*\n  var sphereSize = .5;\n  var pointLightHelper = new THREE.PointLightHelper( light, sphereSize, 0xff00ff );\n  scene.add( pointLightHelper );\n  */\n\n  // create the WebGL renderer\n  renderer = new THREE.WebGLRenderer({\n    antialias: true,\n    alpha: true\n  });\n\n  renderer.setScissorTest(true);\n  renderer.setClearColor(0x000000, 0);\n  renderer.autoClear = false;\n  renderer.sortObjects = false;\n  requestAnimationFrame(render);\n\n  return renderer.domElement;\n};\n\n\nconst add = obj => {\n  let index = objs.indexOf(obj);\n  if (index === -1) {\n    objs.push(obj);\n    return true;\n  }\n  return false;\n};\n\n\nconst remove = (obj) => {\n  let index = objs.indexOf(obj);\n  if (index > -1) {\n    objs.splice(index, 1);\n    return true;\n  }\n  return false;\n};\n\n\nconst update = () => {\n  overlayWidth = window.innerWidth;\n  overlayHeight = window.innerHeight;\n  camera = null;\n  renderer.setSize(overlayWidth, overlayHeight);\n  renderer.clear();\n\n  // Walk over each object and update it\n  objs.forEach(child => {\n    let elem = child.elem;\n    if (elem) {\n      let projection;\n      let transformMatrix;\n      let clipHeight;\n      let clipWidth;\n      let width = elem.offsetWidth;\n\n      // If the elements width is `0`, bail out early.\n      if (width === 0) {\n        return;\n      }\n\n      projection = domUtils.getProjectionForElement(elem);\n      clipHeight = projection.clipBounds.bottom - projection.clipBounds.top;\n      clipWidth = projection.clipBounds.right - projection.clipBounds.left;\n\n      // If the elements clip area has a height or width of `0`, bail out early.\n      if (clipWidth <= 0 || clipHeight <= 0) {\n        return;\n      }\n\n      transformMatrix = domUtils.getTransformForElement(elem);\n\n      // Apply the transform matrix of the DOM node to the model\n      child.rotation.setFromRotationMatrix(transformMatrix);\n      child.position.setFromMatrixPosition(transformMatrix);\n      child.scale.setFromMatrixScale(transformMatrix);\n\n      // Objects are normalised so we can scale them up by their width to\n      // render them at the intended size.\n      child.scale.multiplyScalar(width);\n\n      // Three's coordinate space uses 0,0,0 as the screen centre so we need\n      // to adjust the computed X/Y position back to the top-left of the screen\n      // to match the CSS rendering position.\n      child.position.x += width - overlayWidth / 2;\n      child.position.y += overlayHeight / 2;\n\n      // Determine which camera to use to project this model and set its\n      // properties prior to rendering\n      if (projection.perspective) {\n        camera = setPerspectiveCamera(\n          projection.cameraBounds,\n          projection.perspective,\n          projection.perspectiveOrigin\n        );\n      } else {\n        camera = setOrthographicCamera(projection.cameraBounds);\n      }\n\n      light.position.x = projection.cameraBounds.left + (projection.cameraBounds.right - projection.cameraBounds.left) / 2 - overlayWidth / 2;\n      light.position.y = overlayHeight / 2 - projection.cameraBounds.top - (projection.cameraBounds.bottom - projection.cameraBounds.top) / 2;\n      light.position.z = camera.far;\n\n      // Set the clipping box (scissor) and render the element.\n      renderer.setScissor(\n        projection.clipBounds.left,\n        projection.clipBounds.top,\n        clipWidth,\n        clipHeight\n      );\n      scene.add(child);\n      renderer.render(scene, camera);\n      scene.remove(child);\n\n    }\n  });\n\n  return !!camera;\n};\n\n\nconst setOrthographicCamera = (bounds) => {\n  let camera;\n  \n  if (!orthographicCamera) {\n    orthographicCamera = new THREE.OrthographicCamera();\n  } \n  \n  camera = orthographicCamera;\n  camera.left = bounds.left - overlayWidth / 2;\n  camera.top = -bounds.top + overlayHeight / 2;\n  camera.bottom = -bounds.bottom + overlayHeight / 2;\n  camera.right = bounds.right - overlayWidth / 2;\n  camera.near = -700;\n  camera.updateProjectionMatrix();\n\n  return camera;\n};\n\n\nconst setPerspectiveCamera = (bounds, perspective, perspectiveOrigin) => {\n  let camera;\n  \n  if (!perspectiveCamera) {\n    perspectiveCamera = new THREE.PerspectiveCamera();\n  }\n\n  camera = perspectiveCamera;\n  camera.fov = 180 * (2 * Math.atan(overlayHeight / 2 / perspective)) / Math.PI;\n  camera.aspect = overlayWidth / overlayHeight;\n  camera.position.set(0, 0, perspective);\n  camera.updateProjectionMatrix();\n\n  // Add perspective-origin\n  let originX = overlayWidth / 2 - bounds.left - perspectiveOrigin.x;\n  let originY = overlayHeight / 2 - bounds.top - perspectiveOrigin.y;\n\n\n  // The default is origin for perspective is `50% 50%`, which equates to\n  // `0,0`. If the author hasn't specified a different value we don't need\n  // to make any adjustments to the projection matrix\n  if (originX !== 0 || originY !== 0) {\n\n    // copy the projection matrix\n    let tmpMatrix = camera.projectionMatrix.clone();\n\n    // set the camera projection matrix to the origin\n    camera.projectionMatrix.makeTranslation(\n      -originX / (overlayWidth / 2),\n      originY / (overlayHeight / 2),\n      0\n    );\n\n    // apply to original camera projection matrix\n    camera.projectionMatrix.multiply(tmpMatrix);\n\n    // remove the origin offset\n    tmpMatrix.makeTranslation(originX, -originY, 0);\n    camera.projectionMatrix.multiply(tmpMatrix);\n\n  }\n\n  return camera;\n};\n\n\nconst render = () => {\n  requestAnimationFrame(render);\n  update();\n};\n\n\nexport default {\n  init,\n  add,\n  remove,\n  render\n};\n","import modelLoader from './modelLoader';\nimport modelLayer from './modelLayer';\nimport domUtils from './utils/dom';\n\n\nconst objects = new WeakMap();\n\nconst ELEMENT_DEFAULT_STYLES =\n  '#x-model-renderLayer{' +\n    'position:fixed;' +\n    'top:0;' +\n    'left:0;' +\n    'pointer-events:none' +\n  '}' +\n  'x-model{' +\n    'display:inline-block;' +\n    'width:250px;' +\n    'height:250px' +\n  '}';\n\nlet styleElem;\n\n\nconst initModelLayer = () => {\n  // The first time an element is added to the document we inject a\n  // stylesheet that contains its default styles. Ideally this would be\n  // appended to the shadow DOM, but support for that isn't great right now.\n  styleElem = domUtils.createStylesheet(ELEMENT_DEFAULT_STYLES);\n  let head = document.documentElement.firstChild;\n  head.insertBefore(styleElem, head.firstChild);\n\n  // Initialize the model layer and append the resulting DOM node to the\n  // document root - outside the <body> to prevent perspective or transform\n  // styles from affecting it.\n  let renderDomElement = modelLayer.init();\n  renderDomElement.setAttribute('id', 'x-model-renderLayer');\n  document.documentElement.appendChild(renderDomElement);\n};\n\n\nexport default class extends HTMLElement {\n\n  constructor() {\n    super();\n  }\n\n  static get observedAttributes() {\n    return ['src'];\n  }\n\n  connectedCallback() {\n    if (!styleElem) {\n      initModelLayer();\n    }\n\n    let obj = objects.get(this);\n    if (obj && obj.elem !== this) {\n      obj.elem = this;\n      modelLayer.add(obj);\n    }\n  }\n\n  disconnectedCallback() {\n    let obj = objects.get(this);\n    if (obj && obj.elem === this) {\n      modelLayer.remove(obj);\n      obj.elem = null;\n    }\n  }\n\n  attributeChangedCallback(attribute, oldValue, newValue) {\n    if (attribute === 'src') {\n\n      // call the disconnected callback handler to release the current model if\n      // one is attached\n      this.disconnectedCallback();\n\n      modelLoader.load(newValue).then(obj => {\n        let event = new UIEvent('load');\n        this.dispatchEvent(event);\n        objects.set(this, obj);\n        this.connectedCallback();\n      }).catch(e => {\n        let event = new UIEvent('error');\n        this.dispatchEvent(event);\n      });\n    }\n  }\n\n}\n","let loader;\n\n\nexport default src => {\n\n  return new Promise((resolve, reject) => {\n\n    const loadHandler = gltf => {\n      resolve(gltf.scene);\n    }\n\n    const errorHandler = () => {\n      reject();\n    }\n\n    if (!loader) {\n      loader = new THREE.GLTFLoader();\n    }\n\n    return loader.load(src, loadHandler, null, errorHandler);\n\n  });\n}\n","let loader;\n\n\nexport default src => {\n\n  return new Promise((resolve, reject) => {\n\n    const loadHandler = obj => {\n      resolve(obj);\n    }\n\n    const errorHandler = () => {\n      reject();\n    }\n\n    if (!loader) {\n      loader = new THREE.OBJLoader();\n    }\n\n    return loader.load(src, loadHandler, null, errorHandler);\n\n  });\n}\n","import HTMLModelElement from './modelElement.js';\nimport modelLoader from './modelLoader.js';\nimport gltfLoader from './loaders/gltf';\nimport objLoader from './loaders/obj';\n\n\nif ('customElements' in window) {\n\n  if (!('THREE' in window)) {\n    throw 'THREE (threejs.org) is required.';\n  }\n\n  if ('GLTFLoader' in THREE) {\n    modelLoader.register('.gltf', gltfLoader);\n    modelLoader.register('.glb', gltfLoader);\n  }\n\n  if ('OBJLoader' in THREE) {\n    modelLoader.register('.obj', objLoader);\n  }\n\n  customElements.define('x-model', HTMLModelElement);\n}\n"],"names":["loader"],"mappings":"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"}